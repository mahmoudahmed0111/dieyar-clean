# ูุธุงู ุงูุฅุดุนุงุฑุงุช - Dieyar Clean

## โ ุชู ุฅูุดุงุก ูุธุงู ุฅุดุนุงุฑุงุช ูุงูู ูุนูุงู ุงููุธุงูุฉ

### ๐ฏ ุงูููุฒุงุช ุงูููุฌุฒุฉ:

1. **ูุธุงู ุฅุดุนุงุฑุงุช ุชููุงุฆู** - ูุฑุณู ุฅุดุนุงุฑุงุช ุนูุฏ ุฅูุดุงุก ุฃู ูููุฉ ุฌุฏูุฏุฉ
2. **ุฏุนู Firebase FCM** - ุฅุดุนุงุฑุงุช ููุฑูุฉ ููุฃุฌูุฒุฉ ุงููุญูููุฉ
3. **API ูุงูู** - ุฌููุน ุงูุนูููุงุช ุงููุทููุจุฉ ููุฅุดุนุงุฑุงุช
4. **Observers** - ุฅุฑุณุงู ุชููุงุฆู ุนูุฏ ุฅูุดุงุก ุงูููุงู
5. **Jobs** - ูุนุงูุฌุฉ ุงูุฅุดุนุงุฑุงุช ูู ุงูุฎูููุฉ
6. **ุงุฎุชุจุงุฑุงุช ุดุงููุฉ** - ุถูุงู ุฌูุฏุฉ ุงููุธุงู

### ๐ฑ ุฃููุงุน ุงูุฅุดุนุงุฑุงุช ุงููุฏุนููุฉ:

- โ **ุงูุชูุธูู ุงูููุชุธู** - ุนูุฏ ุฅูุดุงุก ูููุฉ ุชูุธูู ููุชุธู
- โ **ุงูุชูุธูู ุงูุนููู** - ุนูุฏ ุฅูุดุงุก ูููุฉ ุชูุธูู ุนููู  
- โ **ุงูุตูุงูุฉ** - ุนูุฏ ุฅูุดุงุก ูููุฉ ุตูุงูุฉ
- โ **ููุงูุญุฉ ุงูุขูุงุช** - ุนูุฏ ุฅูุดุงุก ูููุฉ ููุงูุญุฉ ุขูุงุช
- โ **ุงูุฃุถุฑุงุฑ** - ุนูุฏ ุชุณุฌูู ุจูุงุบ ุฃุถุฑุงุฑ

### ๐ง ุงูุฅุนุฏุงุฏ ุงููุทููุจ:

1. **ุฅุถุงูุฉ Firebase Server Key** ุฅูู ููู `.env`:
```env
FIREBASE_SERVER_KEY=your_firebase_server_key_here
FIREBASE_PROJECT_ID=deiyar
```

2. **ุงูุญุตูู ุนูู Firebase Server Key**:
   - ุงุฐูุจ ุฅูู [Firebase Console](https://console.firebase.google.com/)
   - ุงุฎุชุฑ ูุดุฑูุนู
   - ุงุฐูุจ ุฅูู Project Settings > Cloud Messaging
   - ุงูุณุฎ Server Key

### ๐ API Endpoints:

```
GET    /api/notifications          # ุนุฑุถ ุงูุฅุดุนุงุฑุงุช
GET    /api/notifications/stats    # ุฅุญุตุงุฆูุงุช ุงูุฅุดุนุงุฑุงุช  
GET    /api/notifications/{id}     # ุนุฑุถ ุฅุดุนุงุฑ ูุญุฏุฏ
PUT    /api/notifications/{id}/read # ุชุญุฏูุฏ ูููุฑูุก
PUT    /api/notifications/read-all # ุชุญุฏูุฏ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูููุฑูุกุฉ
DELETE /api/notifications/{id}     # ุญุฐู ุฅุดุนุงุฑ
DELETE /api/notifications          # ุญุฐู ุฌููุน ุงูุฅุดุนุงุฑุงุช
POST   /api/notifications/fcm-token # ุชุญุฏูุซ ุฑูุฒ FCM
POST   /api/notifications/test     # ุฅุฑุณุงู ุฅุดุนุงุฑ ุชุฌุฑูุจู
```

### ๐ ุงูุงุณุชุฎุฏุงู ูู ุงูุชุทุจูู:

#### 1. ุชุญุฏูุซ ุฑูุฒ FCM ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู:
```dart
await http.post(
  Uri.parse('$baseUrl/api/notifications/fcm-token'),
  headers: {'Authorization': 'Bearer $token'},
  body: {'fcm_token': fcmToken},
);
```

#### 2. ุฌูุจ ุงูุฅุดุนุงุฑุงุช:
```dart
final response = await http.get(
  Uri.parse('$baseUrl/api/notifications'),
  headers: {'Authorization': 'Bearer $token'},
);
```

#### 3. ุชุญุฏูุฏ ุฅุดุนุงุฑ ูููุฑูุก:
```dart
await http.put(
  Uri.parse('$baseUrl/api/notifications/$notificationId/read'),
  headers: {'Authorization': 'Bearer $token'},
);
```

### ๐ฏ ุงูุฅุดุนุงุฑุงุช ุงูุชููุงุฆูุฉ:

ุงููุธุงู ูุฑุณู ุฅุดุนุงุฑุงุช ุชููุงุฆูุงู ุนูุฏ:
- ุฅูุดุงุก ูููุฉ ุชูุธูู ููุชุธู ุฌุฏูุฏุฉ
- ุฅูุดุงุก ูููุฉ ุชูุธูู ุนููู ุฌุฏูุฏุฉ  
- ุฅูุดุงุก ูููุฉ ุตูุงูุฉ ุฌุฏูุฏุฉ
- ุฅูุดุงุก ูููุฉ ููุงูุญุฉ ุขูุงุช ุฌุฏูุฏุฉ
- ุชุณุฌูู ุจูุงุบ ุฃุถุฑุงุฑ ุฌุฏูุฏ

### ๐ ุงูุจูุงูุงุช ุงููุฑุณูุฉ:

ูู ุฅุดุนุงุฑ ูุญุชูู ุนูู:
```json
{
    "type": "notification_type",
    "cleaning_id": 123,
    "chalet_id": 456, 
    "chalet_name": "ุงุณู ุงูุดุงููู",
    "click_action": "FLUTTER_NOTIFICATION_CLICK",
    "sound": "default"
}
```

### ๐๏ธ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ:

```bash
# ุฅุฑุณุงู ุฅุดุนุงุฑ ูุฏููุงู
php artisan notification:send "ุนููุงู ุงูุฅุดุนุงุฑ" "ูุญุชูู ุงูุฅุดุนุงุฑ" --type=general

# ุฅุฑุณุงู ุฅุดุนุงุฑ ูุนุงูู ูุญุฏุฏ
php artisan notification:send "ุนููุงู" "ูุญุชูู" --cleaner-id=1

# ุชุดุบูู Jobs (ููุฅุดุนุงุฑุงุช ูู ุงูุฎูููุฉ)
php artisan queue:work
```

### โ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

ุงููุธุงู ููุชูู ููุนูู ุชููุงุฆูุงู. ููุท ุฃุถู Firebase Server Key ูุงุจุฏุฃ ูู ุงุณุชุฎุฏุงู ุงูุฅุดุนุงุฑุงุช!

