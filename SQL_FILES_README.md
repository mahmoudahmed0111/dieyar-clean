# ูููุงุช SQL ููุธุงู ุฅุดุนุงุฑุงุช Firebase

## ๐ ุงููููุงุช ุงููุชุงุญุฉ

### 1. `firebase_notifications_database.sql` - ุงูุฅุนุฏุงุฏ ุงููุงูู
**ุงููุตู**: ููู SQL ุดุงูู ูุญุชูู ุนูู ุฌููุน ุงูุฌุฏุงูู ูุงูุฅุนุฏุงุฏุงุช ูุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
**ุงููุญุชููุงุช**:
- ุฅูุดุงุก ุฌุฏูู `notifications`
- ุฅุถุงูุฉ ุนููุฏ `fcm_token` ูุฌุฏูู `cleaners`
- ุฅูุดุงุก ุงูููุงุฑุณ ุงููุทููุจุฉ
- ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุดุงููุฉ
- ุงุณุชุนูุงูุงุช ุงููุฑุงูุจุฉ
- ุชุนูููุงุช ููุตูุฉ

**ุงูุงุณุชุฎุฏุงู**: ููุงุณุชูุฑุงุฏ ุงููุงูู ุนูู ุฎุงุฏู ุฌุฏูุฏ

### 2. `firebase_notifications_quick_setup.sql` - ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน
**ุงููุตู**: ููู SQL ูุจุณุท ููุฅุนุฏุงุฏ ุงูุณุฑูุน
**ุงููุญุชููุงุช**:
- ุฅุถุงูุฉ ุนููุฏ `fcm_token`
- ุฅูุดุงุก ุฌุฏูู `notifications`
- ุฅูุดุงุก ุงูููุงุฑุณ ุงูุฃุณุงุณูุฉ
- ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุฃุณุงุณูุฉ
- ุงุณุชุนูุงูุงุช ุงููุฑุงูุจุฉ ุงูุฃุณุงุณูุฉ

**ุงูุงุณุชุฎุฏุงู**: ููุฅุนุฏุงุฏ ุงูุณุฑูุน ุนูู ุฎุงุฏู ููุฌูุฏ

### 3. `firebase_notifications_test_data.sql` - ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ููุท
**ุงููุตู**: ููู SQL ูุญุชูู ุนูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ููุท
**ุงููุญุชููุงุช**:
- 5 ุนูุงู ูุธุงูุฉ ุชุฌุฑูุจููู ูุน FCM tokens
- 5 ุดุงูููุงุช ุชุฌุฑูุจูุฉ
- 8 ุฅุดุนุงุฑุงุช ุชุฌุฑูุจูุฉ ูุชููุนุฉ
- ุงุณุชุนูุงูุงุช ููุงุฎุชุจุงุฑ

**ุงูุงุณุชุฎุฏุงู**: ูุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูุงุฎุชุจุงุฑ ุงููุธุงู

### 4. `firebase_notifications_clean_data.sql` - ุชูุธูู ุงูุจูุงูุงุช
**ุงููุตู**: ููู SQL ูุญุฐู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
**ุงููุญุชููุงุช**:
- ุญุฐู ุงูุฅุดุนุงุฑุงุช ุงูุชุฌุฑูุจูุฉ
- ุญุฐู ุนูุงู ุงููุธุงูุฉ ุงูุชุฌุฑูุจููู
- ุญุฐู ุงูุดุงูููุงุช ุงูุชุฌุฑูุจูุฉ
- ุฅุนุงุฏุฉ ุชุนููู AUTO_INCREMENT

**ุงูุงุณุชุฎุฏุงู**: ูุชูุธูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุจุนุฏ ุงูุงุฎุชุจุงุฑ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุฎุงุฏู ุงูุฌุฏูุฏ:
```bash
# 1. ุงุณุชูุฑุงุฏ ุงูุฅุนุฏุงุฏ ุงููุงูู
mysql -u username -p database_name < firebase_notifications_database.sql

# 2. ุฃู ุงุณุชูุฑุงุฏ ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน
mysql -u username -p database_name < firebase_notifications_quick_setup.sql
```

### ููุฎุงุฏู ุงูููุฌูุฏ:
```bash
# 1. ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
mysql -u username -p database_name < firebase_notifications_test_data.sql

# 2. ุจุนุฏ ุงูุงุฎุชุจุงุฑุ ุชูุธูู ุงูุจูุงูุงุช
mysql -u username -p database_name < firebase_notifications_clean_data.sql
```

### ุจุงุณุชุฎุฏุงู phpMyAdmin:
1. ุงูุชุญ phpMyAdmin
2. ุงุฎุชุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุงููุฑ ุนูู "Import"
4. ุงุฎุชุฑ ููู SQL ุงููุทููุจ
5. ุงููุฑ ุนูู "Go"

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

### ุนูุงู ุงููุธุงูุฉ:
| ID | ุงูุงุณู | ุงููุงุชู | ุงูุจุฑูุฏ ุงูุฅููุชุฑููู | FCM Token |
|----|-------|--------|-------------------|-----------|
| 1 | ุฃุญูุฏ ูุญูุฏ | 01234567890 | ahmed@example.com | fcm_token_ahmed_123 |
| 2 | ูุญูุฏ ุนูู | 01234567891 | mohamed@example.com | fcm_token_mohamed_456 |
| 3 | ุณุนุฏ ุญุณู | 01234567892 | saad@example.com | fcm_token_saad_789 |
| 4 | ุฎุงูุฏ ุฃุญูุฏ | 01234567893 | khaled@example.com | fcm_token_khaled_101 |
| 5 | ุนูู ูุญููุฏ | 01234567894 | ali@example.com | fcm_token_ali_202 |

### ุงูุดุงูููุงุช:
| ID | ุงูุงุณู | ุงูููุฏ | ุงููููุน |
|----|-------|--------|--------|
| 1 | ุดุงููู ุงูุดุงุทุฆ ุงูุฐูุจู | CH001 | ุดุงุทุฆ ุงูุจุญุฑ ุงูุฃุญูุฑ - ุงูุบุฑุฏูุฉ |
| 2 | ุดุงููู ุงููุฑุฏูุณ | CH002 | ุดุงุทุฆ ุงูุจุญุฑ ุงูุฃุญูุฑ - ุงูุบุฑุฏูุฉ |
| 3 | ุดุงููู ุงููุฌูู | CH003 | ุดุงุทุฆ ุงูุจุญุฑ ุงูุฃุญูุฑ - ุงูุบุฑุฏูุฉ |
| 4 | ุดุงููู ุงูููุฑ | CH004 | ุดุงุทุฆ ุงูุจุญุฑ ุงูุฃุญูุฑ - ุงูุบุฑุฏูุฉ |
| 5 | ุดุงููู ุงูุดูุณ | CH005 | ุดุงุทุฆ ุงูุจุญุฑ ุงูุฃุญูุฑ - ุงูุบุฑุฏูุฉ |

### ุงูุฅุดุนุงุฑุงุช:
- ุชูุธูู ููุชุธู (ูุจู)
- ุจูุงุบ ุถุฑุฑ
- ุชูุฑูุฑ ุตูุงูุฉ (ุจุนุฏ)
- ุชูุฑูุฑ ููุงูุญุฉ (ูุจู)
- ุชูุธูู ุนููู (ุจุนุฏ)
- ุฅุดุนุงุฑุงุช ุชุฌุฑูุจูุฉ

## ๐ง ุงุณุชุนูุงูุงุช ุงููุฑุงูุจุฉ

### ุฅุญุตุงุฆูุงุช ุงูุฅุดุนุงุฑุงุช:
```sql
SELECT 
    'ุฅุฌูุงูู ุงูุฅุดุนุงุฑุงุช' as metric,
    COUNT(*) as count
FROM notifications
UNION ALL
SELECT 
    'ุงูุฅุดุนุงุฑุงุช ุงููุฑุณูุฉ' as metric,
    COUNT(*) as count
FROM notifications 
WHERE sent_at IS NOT NULL;
```

### ุฅุญุตุงุฆูุงุช ุนูุงู ุงููุธุงูุฉ:
```sql
SELECT 
    'ุฅุฌูุงูู ุนูุงู ุงููุธุงูุฉ ุงููุดุทูู' as metric,
    COUNT(*) as count
FROM cleaners 
WHERE status = 'active'
UNION ALL
SELECT 
    'ุนูุงู ุงููุธุงูุฉ ุงูุฐูู ูุฏููู FCM Token' as metric,
    COUNT(*) as count
FROM cleaners 
WHERE status = 'active' AND fcm_token IS NOT NULL;
```

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

1. **ุงุญุชูุงุทู**: ูู ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุงูุงุณุชูุฑุงุฏ
2. **ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ**: ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุชุถุงุฑุจ ูู ุงูุจูุงูุงุช
3. **ุงูุตูุงุญูุงุช**: ุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ูุงููุฉ ูุฅูุดุงุก ุงูุฌุฏุงูู ูุงูููุงุฑุณ
4. **ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ**: ุงุญุฐู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุจุนุฏ ุงูุงุฎุชุจุงุฑ

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

ุจุนุฏ ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุชุ ููููู ุงุฎุชุจุงุฑ ุงููุธุงู ุจุงุณุชุฎุฏุงู:

### 1. ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุฅุดุนุงุฑ:
```http
POST /api/test/notification
{
    "title": "ุฅุดุนุงุฑ ุชุฌุฑูุจู",
    "body": "ูุฐุง ุฅุดุนุงุฑ ุชุฌุฑูุจู ูุงุฎุชุจุงุฑ ุงููุธุงู",
    "cleaner_id": 1
}
```

### 2. ูุญุต ุฅุนุฏุงุฏุงุช Firebase:
```http
GET /api/test/firebase-config
```

### 3. ุชุญุฏูุซ FCM Token:
```http
POST /api/fcm-token
{
    "fcm_token": "your_actual_fcm_token"
}
```

## ๐ ููุงุญุธุงุช

- ุฌููุน ูููุงุช ุงููุฑูุฑ ุงูุชุฌุฑูุจูุฉ ูู: `password`
- FCM Tokens ุงูุชุฌุฑูุจูุฉ ูู ูุฌุฑุฏ ุฃูุซูุฉ
- ูููู ุชุนุฏูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุญุณุจ ุงูุญุงุฌุฉ
- ุชุฃูุฏ ูู ุฅุนุฏุงุฏ Firebase ุจุดูู ุตุญูุญ ูุจู ุงูุงุฎุชุจุงุฑ

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช MySQL
2. ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
3. ุชุญูู ูู ูุฌูุฏ ุงูุฌุฏุงูู ุงููุทููุจุฉ
4. ุฑุงุฌุน ููู `FIREBASE_NOTIFICATIONS_GUIDE.md` ููุชูุงุตูู ุงููุงููุฉ
