# ูุธุงู ุฅุฏุงุฑุฉ ุงููุธุงูุฉ - DieyarClean

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุนูููุงุช ุงููุธุงูุฉ ูู ุงูุดุงูููุงุช ูุงููููุงุช ูุน ุฏุนู ุฑูุน ุงูุตูุฑ ูุงูููุฏูููุงุช ูุงูููุชุฌุงุช ุงููุณุชุฎุฏูุฉ.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

- ๐ ุฅุฏุงุฑุฉ ุงูุดุงูููุงุช ูุงููููุงุช
- ๐งน ูุธุงูุฉ ุนุงุฏูุฉ ูุนูููุฉ
- ๐ธ ุฑูุน ุงูุตูุฑ ูุงูููุฏูููุงุช ูุจู ูุจุนุฏ ุงููุธุงูุฉ
- ๐ฆ ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงูููุชุฌุงุช ุงููุณุชุฎุฏูุฉ
- ๐ง ุฅุฏุงุฑุฉ ุงูุตูุงูุฉ ูุงูุฃุถุฑุงุฑ
- ๐ ููุงูุญุฉ ุงูุขูุงุช
- ๐ฑ ุฅุดุนุงุฑุงุช Firebase
- ๐ ูุธุงู ูุตุงุฏูุฉ ุขูู
- ๐ ุฅุญุตุงุฆูุงุช ุดุงููุฉ

## ุงููุชุทูุจุงุช

- PHP >= 8.1
- Laravel >= 10.0
- MySQL >= 5.7
- Node.js >= 16.0
- Composer
- npm

## ุงูุชุซุจูุช

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
```bash
git clone <repository-url>
cd DieyarClean
```

### 2. ุชุซุจูุช ุงูุชุจุนูุงุช
```bash
composer install
npm install
```

### 3. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ
```bash
cp .env.example .env
php artisan key:generate
```

### 4. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุชุนุฏูู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ููู .env
php artisan migrate:fresh --seed
```

### 5. ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ููุชุฎุฒูู
```bash
php artisan storage:link
```

### 6. ุชุดุบูู ุงูุฎุงุฏู
```bash
php artisan serve
npm run dev
```

## API ุงููุธุงูุฉ

### Endpoints ุงููุชุงุญุฉ

#### 1. ุฑูุน ุงููุธุงูุฉ
```
POST /api/cleaning/upload
```

**ุงููุนุงููุฑ ุงููุทููุจุฉ:**
- `cleaning_type`: ููุน ุงููุธุงูุฉ (`deep` ุฃู `regular`)
- `chalet_id`: ูุนุฑู ุงูุดุงููู
- `cleaning_time`: ููุช ุงููุธุงูุฉ (`before` ุฃู `after`)
- `cleaning_date`: ุชุงุฑูุฎ ุงููุธุงูุฉ
- `start_time`: ููุช ุจุฏุงูุฉ ุงููุธุงูุฉ (HH:mm)
- `end_time`: ููุช ุงูุชูุงุก ุงููุธุงูุฉ (HH:mm)
- `notes`: ููุงุญุธุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)
- `cleaning_cost`: ุณุนุฑ ุงููุธุงูุฉ (ูุทููุจ ููุท ูู ุญุงูุฉ `after`)
- `inventory_items`: ุงูููุชุฌุงุช ุงููุณุชุฎุฏูุฉ (ูุทููุจ ููุท ูู ุญุงูุฉ `after`)
- `images`: ูุตูููุฉ ูููุงุช ุงูุตูุฑ (ุงุฎุชูุงุฑู)
- `videos`: ูุตูููุฉ ูููุงุช ุงูููุฏูู (ุงุฎุชูุงุฑู)

**ูุซุงู ุนูู ุงูุทูุจ:**
```json
{
    "cleaning_type": "regular",
    "chalet_id": 1,
    "cleaning_time": "before",
    "cleaning_date": "2024-01-15",
    "start_time": "09:00",
    "end_time": "11:30",
    "notes": "ููุงุญุธุงุช ุฅุถุงููุฉ",
    "cleaning_cost": 150.00,
    "inventory_items": [
        {
            "inventory_id": 1,
            "quantity": 2
        }
    ],
    "images": [],
    "videos": []
}
```

#### 2. ุฌูุจ ุณุฌู ุงููุธุงูุฉ
```
GET /api/cleaning/history
```

**ุงููุนุงููุฑ ุงูุงุฎุชูุงุฑูุฉ:**
- `cleaning_type`: ููุน ุงููุธุงูุฉ (`deep` ุฃู `regular`)
- `chalet_id`: ูุนุฑู ุงูุดุงููู
- `date_from`: ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
- `date_to`: ุชุงุฑูุฎ ุงูููุงูุฉ
- `per_page`: ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุตูุญุฉ

#### 3. ุฌูุจ ุชูุงุตูู ูุธุงูุฉ ูุญุฏุฏุฉ
```
GET /api/cleaning/details/{id}?cleaning_type=regular
```

### ุฏุนู Uppy ูููููุงุช ุงููุจูุฑุฉ

ุชู ุฏูุฌ ููุชุจุฉ Uppy ููุชุนุงูู ูุน ุงููููุงุช ุงููุจูุฑุฉ:

- **ุงูุตูุฑ**: ุญุชู 10MB
- **ุงูููุฏูููุงุช**: ุญุชู 100MB
- **ุถุบุท ุงูุตูุฑ**: ุชููุงุฆู ูุชุญุณูู ุงูุฃุฏุงุก
- **ุดุฑูุท ุงูุชูุฏู**: ุนุฑุถ ุญุงูุฉ ุงูุฑูุน
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุฑุณุงุฆู ูุงุถุญุฉ

### ูุซุงู ุนูู ุงุณุชุฎุฏุงู Uppy

```javascript
import CleaningUploader from '/js/cleaning-upload.js'

const uploader = new CleaningUploader({
    token: 'your-auth-token',
    endpoint: '/api/cleaning/upload'
})

const cleaningData = {
    cleaning_type: 'regular',
    chalet_id: 1,
    cleaning_time: 'before',
    cleaning_date: '2024-01-15',
    start_time: '09:00',
    end_time: '11:30',
    notes: 'ููุงุญุธุงุช ุฅุถุงููุฉ'
}

uploader.uploadCleaning(cleaningData)
```

## ุฅุนุฏุงุฏ Firebase ููุฅุดุนุงุฑุงุช

### 1. ุฅูุดุงุก ูุดุฑูุน Firebase
1. ุงุฐูุจ ุฅูู [Firebase Console](https://console.firebase.google.com/)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ุงุฐูุจ ุฅูู ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน

### 2. ุงูุญุตูู ุนูู ููุชุงุญ ุงูุฎุงุฏู
1. ูู ุฅุนุฏุงุฏุงุช ุงููุดุฑูุนุ ุงุฐูุจ ุฅูู ุชุจููุจ "Cloud Messaging"
2. ุงูุณุฎ "Server key"

### 3. ุฅุนุฏุงุฏ ููู .env
```env
FIREBASE_SERVER_KEY=your_server_key_here
FIREBASE_PROJECT_ID=your_project_id_here
```

### 4. ุฅุนุฏุงุฏ ููู Service Account (ุงุฎุชูุงุฑู)
1. ูู ุฅุนุฏุงุฏุงุช ุงููุดุฑูุนุ ุงุฐูุจ ุฅูู ุชุจููุจ "Service accounts"
2. ุงููุฑ ุนูู "Generate new private key"
3. ุงุญูุธ ุงูููู ุจุงุณู `firebase-service-account.json`
4. ุถุน ุงูููู ูู ูุฌูุฏ `storage/app/`

## ูููู ุงููุดุฑูุน

```
DieyarClean/
โโโ app/
โ   โโโ Http/Controllers/API/
โ   โ   โโโ CleaningController.php      # API ุงููุธุงูุฉ ุงูุฑุฆูุณู
โ   โ   โโโ AuthController.php          # ูุตุงุฏูุฉ ุงูููุธููู
โ   โ   โโโ ChaletController.php        # ุฅุฏุงุฑุฉ ุงูุดุงูููุงุช
โ   โ   โโโ ...
โ   โโโ Models/
โ   โ   โโโ RegularCleaning.php         # ูููุฐุฌ ุงููุธุงูุฉ ุงูุนุงุฏูุฉ
โ   โ   โโโ DeepCleaning.php            # ูููุฐุฌ ุงููุธุงูุฉ ุงูุนูููุฉ
โ   โ   โโโ ...
โ   โโโ Services/
โ       โโโ FirebaseNotificationService.php
โโโ resources/
โ   โโโ js/
โ   โ   โโโ cleaning-upload.js          # JavaScript ูุฑูุน ุงููุธุงูุฉ
โ   โโโ views/
โ       โโโ cleaning-upload-example.blade.php
โโโ routes/
โ   โโโ api.php                         # API routes
โ   โโโ web.php                         # Web routes
โโโ database/
    โโโ migrations/                     # ูููุงุช ุงููุฌุฑุฉ
```

## ุงููููุงุช ุงููููุฉ

### API ุงููุธุงูุฉ
- `app/Http/Controllers/API/CleaningController.php` - Controller ุงูุฑุฆูุณู ูุฑูุน ุงููุธุงูุฉ
- `resources/js/cleaning-upload.js` - JavaScript ูุฑูุน ุงููููุงุช ูุน Uppy
- `resources/views/cleaning-upload-example.blade.php` - ุตูุญุฉ ูุซุงู ูุฑูุน ุงููุธุงูุฉ

### ุงูุชูุซูู
- `CLEANING_API_GUIDE.md` - ุฏููู ุดุงูู ูุงุณุชุฎุฏุงู API ุงููุธุงูุฉ
- `FIREBASE_SETUP.md` - ุฏููู ุฅุนุฏุงุฏ Firebase
- `NOTIFICATION_SETUP.md` - ุฏููู ุฅุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช

## ุงูุงุณุชุฎุฏุงู

### 1. ุชุณุฌูู ุฏุฎูู ุงูููุธู
```bash
POST /api/login
{
    "email": "cleaner@example.com",
    "password": "password"
}
```

### 2. ุฑูุน ุงููุธุงูุฉ
```bash
POST /api/cleaning/upload
# ูุน ุงูุจูุงูุงุช ูุงููููุงุช ุงููุทููุจุฉ
```

### 3. ุฌูุจ ุณุฌู ุงููุธุงูุฉ
```bash
GET /api/cleaning/history
```

### 4. ุฌูุจ ุชูุงุตูู ูุธุงูุฉ ูุญุฏุฏุฉ
```bash
GET /api/cleaning/details/1?cleaning_type=regular
```

## ุงูุฃูุงู

- ุฌููุน API endpoints ูุญููุฉ ุจุงููุตุงุฏูุฉ
- ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
- ุญูุงูุฉ ูู CSRF attacks
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู

## ุงูุฃุฏุงุก

- ุฏุนู ุงููููุงุช ุงููุจูุฑุฉ (ุญุชู 100MB)
- ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู
- ุชุฎุฒูู ูุคูุช ููุจูุงูุงุช
- ุชุญุณูู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุนุงูุฌุฉ ูุชูุงุฒูุฉ ูููููุงุช

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ูุงูุฏุนู ุงูุชููู:
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@dieyar.com
- ๐ฑ ุงููุงุชู: +966-XX-XXX-XXXX
- ๐ ุงููููุน: https://dieyar.com

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT. ุฑุงุฌุน ููู `LICENSE` ููุชูุงุตูู.

## ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู ุงุชุจุงุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ุฌุฏูุฏ ููููุฒุฉ
3. Commit ุงูุชุบููุฑุงุช
4. Push ุฅูู Branch
5. ุฅูุดุงุก Pull Request

## ุงูุชุญุฏูุซุงุช

### ุงูุฅุตุฏุงุฑ 1.0.0
- โ API ุฑูุน ุงููุธุงูุฉ ุงูุดุงูู
- โ ุฏุนู Uppy ูููููุงุช ุงููุจูุฑุฉ
- โ ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุงูุชููุงุฆูุฉ
- โ ุฅุดุนุงุฑุงุช Firebase
- โ ูุธุงู ูุตุงุฏูุฉ ุขูู
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ
